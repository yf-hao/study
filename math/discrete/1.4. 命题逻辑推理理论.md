## 1.4. 命题逻辑推理理论

### 推理概述

#### **推理的定义**

从已知条件、假设、前提或公理出发，根据推理规则推出结论、定理的过程，称为**推理**。

> 推理是对数学证明以及各种各样领域中的推理思想的高度抽象。

#### **推理的两种形式系统**

​		**自然推理系统**：

​		自然推理不预设公理，只是根据规则，从给定的前提命题出发得出结论命题。这似乎更符合人们日常思维的习惯，因此，称之为自然推理。

​		**公理系统**：

​		从若干给定的公理(真实且不可证明的命题)出发，应用推理规则进行推理演算。公理系统的主旨是将推理规则和公理相结合,通过公理推导出结论。

#### 有效推理

设$A_1,A_2,⋯,A_k,B$ 都是命题公式，若对于$A_1,A_2,⋯,A_k,B$ 中出现的命题变项的任意一组赋值，或者$A_1∧A_2∧…∧A_k$为假，或者当$A_1∧A_2∧…∧A_k$为真时，$B$也为真，则称由前提$A_1,A_2,⋯,A_k$推出$B$的**推理是有效**的或正确的，并称B是有效的结论。

由前面的定义容易证明下面定理：设A与B是两个命题公式，若$A→B$为重言式，则称$B$是$A$的有效结论，或称$A$可以逻辑推出$B$，记为$A\implies B$。

#### **推理的有效性和结论的真实性**

必须把推理的有效性和结论的真实性区别开

(1)有效的推理不一定产生真实的结论

有效推理中：前提是假时，不论结论是否真实都是有效的推 理。

例如：

 	前提 1：如果月亮是由奶酪做的，那么奶牛可以飞行。
 	
 	前提 2：月亮是由奶酪做的。

​	 结论：奶牛可以飞行。

(2) 产生真实结论的推理未必是有效的

例如：

​	 前提 1：如果太阳从东方升起，那么奶牛是牛。

​	 前提 2：奶牛是牛。

​	 结论：太阳从东方升起。

>  这是逆命题错误

推理的有效性仅指推理过程的**逻辑形式正确**，而结论的真实性还取决于前提的真实性。

### 推理的形式结构

推理的形式结构：$（A_1 ∧ A_2 ∧ … ∧ A_k）\implies B$

还有另外的表达方式，比如将前提与结论分开写：

 前提：$A_1，A_2，…，A_k$.

 结论：$B$. 

### 自然推理系统

#### 推理规则

推理规则是逻辑学中从前提推导出结论的合法模式。通过这些规则，可以在**给定一组前提**的情况下，**正确地推导出有效的结论**。

> 推理规则广泛用于数学证明、计算机科学以及哲学推理中。

常见的推理规则如下：

- 假言推理：A∧(A→B)⟹B

  我们用前3节的知识来证明。首先用真值表：

  | A    | B    | A → B | (A → B) ∧ A | (A → B) ∧ A → B |
  | ---- | ---- | ----- | ----------- | --------------- |
  | 0    | 0    | 1     | 0           | 1               |
  | 0    | 1    | 1     | 0           | 1               |
  | 1    | 0    | 0     | 0           | 1               |
  | 1    | 1    | 1     | 1           | 1               |

  再用等值演算：

  <img src="/Volumes/Hao 1/Users/hao/hao_data/blog/docs/math/discrete/img/image-20240905152308801.png" alt="image-20240905152308801" style="zoom:20%;" /> 

  例：

   前提1： 如果今天下雨，那么我会带伞

   前提2： 今天下雨了

   结论： 我带伞了
  $$
  \begin{aligned}
  &设\ 	p:今天下雨，q:我会带伞
  \\& 根据题意得到形式结构：（p\to q）\land p \implies q
  \end{aligned}
  $$

- 假言三段论：$(A→B)∧(B→C)⟹(A→C)$

  例：

  前提1：如果下雨，那么地面会湿。

  前提2：如果地面湿了，那么路滑。

  结论：如果下雨，那么路滑。

- 拒取式：$(A→B)∧￢B⟹￢A$

  例：

  前提1：如果今天是周末，那么我会去公园。

  前提2：我没有去公园。

  结论： 今天不是周末。

- 析取三段论：(A∨B)∧**￢**B⟹A

  > 通过排除某种条件，可以确定剩余条件的真实性

​	例：假设我们有一个程序，它检测文件是否满足某些条件，然后做出相应的处理。

​		前提1： 文件要么是文本文件，要么是图片文件。

​		前提2： 该文件不是文本文件。

​		结论： 因此，文件是图片文件。

- 化简律：$(A∧B)⇒A$

  > 这个推理规则在逻辑证明中非常有用，因为它允许我们从复合命题中**提取出单个命题**来进行进一步的推理。

  例：

  ​	前提1：文件被成功打开，并且内容已被加载。

  ​	结论： 文件被成功打开。

- 附加律：A(A∨B)

- 构造性二难：$(A→B)∧(C→D)∧(A∨C)⟹ B∨D$

  > “二难”（Dilemma）这个术语来源于拉丁语单词 “dilemma”，意为“双重前提”。"二难"推理特指一种包含两个前提的论证，每个前提都指向一个不同的结论，而论证者必须在这两个结论之间做出选择。

  例：

  前提1： 如果今天下雨，我会待在家里

  前提2： 如果明天下雨，我会取消计划

  前提3： 今天下雨或者明天下雨

  结论： 我会待在家里或者取消计划

  

  构造性二难特殊形式：$(A→B)∧(￢A→B)⇒B$

  **例：**

  前提 1：如果程序检测到文件已加载，则系统将执行处理操作。

  前提 2：如果程序没有检测到文件加载，则系统将执行处理操作。

  结论：无论文件是否加载，系统都会执行处理操作。

  > 反映了程序中无论特定条件是否满足，系统都会采取某种行动的逻辑

- 破坏性二难：$(A→B)∧(C→D)∧(￢B∧￢D)⇒(￢A∧￢C) $

  例：

  前提 1：如果用户的密码过期了，那么他无法登录系统。

  前提 2：如果服务器宕机了，那么网站会不可访问。

  前提 3：网站可以访问,用户也能正常登录系统。

  结论：用户的密码没有过期，服务器没有宕机。

#### 推理方法

- 附加前提证明法

  当推论的结论为蕴含式A→𝐵 时，把𝐴加入推理的前提，把B作为推理的结论 

  <img src="/Volumes/Hao - Data/Users/hao/hao_data/blog/docs/math/discrete/img/image-20240907102531533.png" alt="image-20240907102531533" style="zoom:40%;" />

  例：

  <img src="/Volumes/Hao - Data/Users/hao/hao_data/blog/docs/math/discrete/img/image-20240907102605048.png" alt="image-20240907102605048" style="zoom:30%;" />

$$
\begin{align}
&①\ \lnot s  \qquad &&附加前提引入
\\&②\ \lnot r\to s\qquad && 前提条件
\\&③\ 	 r	  \qquad && ①、② 拒取式
\\&④\ r\to \lnot p 	 	  \qquad &&前提条件
\\&⑤\ 	\lnot p 	 	  \qquad && ③、④假言推理
\\&⑥\ p\lor q\qquad &&前提条件
\\&⑦\ 	q 	  \qquad && ⑤、⑥析取三段论
\\&⑧\ 结论 \lnot s\to q 得证	&& 由①推到⑦
\end{align}
$$

- 归谬法

  把结论的否定加入前提，然后推出矛盾，即以0为结论

  <img src="/Volumes/Hao - Data/Users/hao/hao_data/blog/docs/math/discrete/img/image-20240907102723308.png" alt="image-20240907102723308" style="zoom:40%;" />

​	
$$
\begin{align}
&①\  p  \qquad && 结论的否定
\\&②\ p\to \lnot q\qquad && 前提条件
\\&③\ 	 \lnot q	  \qquad && ①、②假言推理
\\&④\ \lnot r\or q 	 	  \qquad &&前提条件
\\&⑤\ 	\lnot r 	 	  \qquad && ③、④析取三段论
\\&⑥\ r\land \lnot s\qquad &&前提条件
\\&⑦\ 	r	  \qquad && ⑥减化律
\\&⑧\ 0	  \qquad && ⑤、⑦矛盾律
\\&\ 结论 \lnot p得证
\end{align}
$$


​		例：用归结法证明下面推理 

​		前提:$¬p→q,p→r, r→t$

​		结论:$q∨t$
$$
\begin{align}
&①\  \lnot(q\lor t)  \qquad && 引入结论的否定
\\&②\ \lnot p\to q\qquad && 前提条件
\\&③\ 	 p\lor q	  \qquad && ②蕴含等值式
\\&④\ p\to r 	 	  \qquad &&前提条件
\\&⑤\ 	\lnot p\lor r 	 	  \qquad && ④蕴含等值式
\\&⑥\ q\lor r\qquad && ③、⑤归结规则
\\&⑦\ 	r\to t	  \qquad && 前提条件
\\&⑧\ \lnot r\or t	  \qquad && ⑦蕴含等值式
\\&⑨\ q\or t	  \qquad && ⑥、⑧归结规则
\\&⑩\ 0	  \qquad && ①、⑨矛盾律
\\&\ 结论 q\lor t得证
\end{align}
$$
​	例：证明$√2$是无理数

<img src="/Volumes/Hao - Data/Users/hao/hao_data/blog/docs/math/discrete/img/image-20240907102815542.png" alt="image-20240907102815542" style="zoom:40%;" />

- 归结证明法

  又称为消解法。利用了归结规则

  <img src="/Volumes/Hao - Data/Users/hao/hao_data/blog/docs/math/discrete/img/image-20240907164431082.png" alt="image-20240907164431082" style="zoom:40%;" />

  证明步骤：

  <img src="/Volumes/Hao - Data/Users/hao/hao_data/blog/docs/math/discrete/img/image-20240907164451919.png" alt="image-20240907164451919" style="zoom:50%;" />

  例：用归结法证明下面推理 

  前提:$¬p→q,p→r, r→t$**.**

  结论:$q∨t$.

  <img src="/Volumes/Hao - Data/Users/hao/hao_data/blog/docs/math/discrete/img/image-20240907164532558.png" alt="image-20240907164532558" style="zoom:40%;" />